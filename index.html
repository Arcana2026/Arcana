<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCANA SAFE ‚Äî The Vault</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #D4AF37;
            --gold-glow: rgba(212, 175, 55, 0.4);
            --bg-dark: #05070a;
        }

        body {
            background-color: var(--bg-dark);
            color: #F7E7CE;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            background-image: radial-gradient(circle at 50% 50%, #0a111a 0%, #05070a 100%);
        }

        .font-prestige { font-family: 'Cinzel', serif; }

        /* Effet Glassmorphism Premium */
        .glass-vault {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 40px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6), inset 0 0 20px rgba(212, 175, 55, 0.05);
        }

        /* Bouton Connect & Purchase */
        .btn-prestige {
            background: linear-gradient(135deg, #D4AF37, #B8860B);
            color: #000;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.2);
            border: none;
        }

        .btn-prestige:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 30px var(--gold-glow);
        }

        /* Barre de Progression */
        .progress-track {
            background: rgba(255, 255, 255, 0.05);
            height: 10px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            background: linear-gradient(90deg, #00ffcc, #00d4aa);
            box-shadow: 0 0 20px #00ffcc;
            transition: width 1.5s ease-in-out;
        }

        /* Guide Poche Widget */
        #guide-poche {
            position: fixed; bottom: 30px; right: 30px; z-index: 1000;
        }
        .pouch-window {
            position: absolute; bottom: 80px; right: 0; width: 280px;
            display: none; padding: 25px;
        }
        .pouch-window.active { display: block; animation: slideUp 0.4s ease; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .trust-icon {
            width: 80px; height: 80px;
            border-radius: 50%;
            border: 2px solid var(--gold);
            display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.4);
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <nav class="p-8 flex justify-between items-center max-w-7xl mx-auto">
        <div class="flex items-center gap-4">
            <img src="logo.png" class="w-14 h-14" style="filter: drop-shadow(0 0 10px var(--gold-glow));" alt="Arcana">
            <h1 class="font-prestige text-3xl tracking-widest text-white">ARCANA <span class="text-[#D4AF37]">SAFE</span></h1>
        </div>
        <button id="connectWallet" onclick="connect()" class="border border-[#D4AF37] text-[#D4AF37] px-8 py-2 rounded-full font-bold hover:bg-[#D4AF37] hover:text-black transition duration-300">
            CONNECT WALLET
        </button>
    </nav>

    <main class="container mx-auto px-4 py-12">
        <div class="glass-vault max-w-4xl mx-auto p-12 text-center border-t-2 border-l-2 border-white/5">
            <h2 class="font-prestige text-5xl md:text-6xl mb-4 text-white tracking-widest">THE ARCANA VAULT</h2>
            <p class="text-gray-400 italic text-xl mb-12">Secure your financial future.</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                <div>
                    <div class="trust-icon mb-4 shadow-[0_0_15px_var(--gold-glow)]">üõ°Ô∏è</div>
                    <p class="text-[10px] uppercase font-bold tracking-widest text-[#D4AF37]">Smart Contract Audited</p>
                </div>
                <div>
                    <div class="trust-icon mb-4 shadow-[0_0_15px_var(--gold-glow)]">
                        <img src="logo.png" class="w-12 h-12 rounded-full" alt="Logo">
                    </div>
                    <p class="text-[10px] uppercase font-bold tracking-widest text-[#D4AF37]">Arcana Verification</p>
                </div>
                <div>
                    <div class="trust-icon mb-4 shadow-[0_0_15px_var(--gold-glow)]">üîí</div>
                    <p class="text-[10px] uppercase font-bold tracking-widest text-[#D4AF37]">Liquidity Locked</p>
                </div>
            </div>

            <div class="max-w-xl mx-auto mb-16">
                <p class="text-[10px] uppercase tracking-[0.3em] mb-4">Goal: 100,000 $ ‚Äî Raised: <span id="raisedAmt" class="text-white">12,450 $</span></p>
                <div class="progress-track">
                    <div id="progressBar" class="progress-fill h-full" style="width: 12.45%"></div>
                </div>
            </div>

            <div class="max-w-md mx-auto">
                <h3 class="font-prestige text-sm mb-6 tracking-widest text-[#D4AF37]">OFFICIAL ARCANA SALE</h3>
                <input type="number" id="amountInput" placeholder="AMOUNT (POL / USDT)" 
                       class="w-full bg-black/40 border border-[#D4AF37]/30 p-5 rounded-2xl text-center text-white text-xl outline-none focus:border-[#D4AF37] transition mb-6">
                <button id="buyBtn" onclick="buyNow()" class="btn-prestige w-full py-5 rounded-2xl text-xl">
                    PURCHASE ARCANA
                </button>
                <p class="mt-6 text-[10px] text-gray-500 uppercase tracking-tighter flex items-center justify-center gap-2">
                    ‚ö†Ô∏è Your assets are secured. Claim is locked until 100% funding.
                </p>
            </div>
        </div>
    </main>

    <div id="guide-poche">
        <div id="pouchWindow" class="glass-vault pouch-window">
            <div class="flex items-center gap-2 mb-6">
                <img src="logo.png" class="w-6 h-6" alt="Logo">
                <h4 class="font-prestige text-[10px] text-[#D4AF37]">GUIDE POCHE</h4>
            </div>
            <div class="flex justify-between mb-4">
                <span class="text-[10px] opacity-60 uppercase">Wallet:</span>
                <span id="pouchAddr" class="text-[10px] font-mono">Not Connected</span>
            </div>
            <div class="flex justify-between mb-2">
                <span class="text-[10px] opacity-60 uppercase">ARCANA:</span>
                <span id="pouchArcana" class="font-bold text-white">0</span>
            </div>
            <div class="flex justify-between mb-6">
                <span class="text-[10px] opacity-60 uppercase">POL:</span>
                <span id="pouchPol" class="font-bold text-white">0</span>
            </div>
            <button onclick="disconnect()" class="w-full py-2 border border-red-500/30 text-red-500 text-[10px] rounded-lg uppercase font-bold hover:bg-red-500/10">Disconnect</button>
        </div>
        <div onclick="document.getElementById('pouchWindow').classList.toggle('active')" 
             class="w-16 h-16 bg-gradient-to-br from-[#D4AF37] to-[#B8860B] rounded-3xl flex items-center justify-center cursor-pointer shadow-2xl hover:scale-110 transition duration-300">
            <img src="logo.png" class="w-10 h-10 rounded-full" alt="Vault">
        </div>
    </div>

    <script>
        const CONTRACT_ADDRESS = "0x29D61511C84E332635E296e37bf22Eb4fB514147";
        let provider, signer, account;

        async function connect() {
            if (window.ethereum) {
                try {
                    provider = new ethers.providers.Web3Provider(window.ethereum);
                    const accounts = await provider.send("eth_requestAccounts", []);
                    account = accounts[0];
                    signer = provider.getSigner();
                    
                    // UI Updates
                    document.getElementById('connectWallet').innerText = account.slice(0,6) + "..." + account.slice(-4);
                    document.getElementById('pouchAddr').innerText = account.slice(0,8) + "...";
                    updateBalances();
                } catch (e) { console.error(e); }
            }
        }

        async function updateBalances() {
            if (!account) return;
            // Ton code de r√©cup√©ration de solde reste ici
            const polBal = await provider.getBalance(account);
            document.getElementById('pouchPol').innerText = parseFloat(ethers.utils.formatEther(polBal)).toFixed(2);
        }

        async function buyNow() {
            if (!account) return connect();
            const amount = document.getElementById('amountInput').value;
            console.log("Buying ARCANA with", amount, "at", CONTRACT_ADDRESS);
            // Ta logique buyWithPOL() ou buyWithNative() originale s'ins√®re ici
        }

        function disconnect() {
            location.reload(); // Simple reset pour la d√©connexion
        }
    </script>
</body>
</html>